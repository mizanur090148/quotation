(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{112:function(t,e,s){"use strict";s.r(e);var n=s(0),i=(s(3),s(2),{data:function(){return{errors:[],invoices:[],purchase_invoice:"",sale_invoice:"",purchase_detail_list:[],sale_detail_list:[],form:new Form({return_type:"",invoice_id:""})}},methods:{invoiceDropdowndata:function(){var t=this;n.a.get("/get-invoice-dropdown",{params:{return_type:this.form.return_type}}).then((function(e){t.purchase_detail_list=[],t.sale_detail_list=[],t.purchase_invoice="",t.sale_invoice="",t.invoices=[],t.invoices=e.data})).catch((function(t){console.log(t)}))},getInvoiceWiseDetails:function(){var t=this,e=this.$loading.show({container:this.$refs.attendanceTable,canCancel:!0,loader:"bars"});n.a.get("get-invoice-details-for-return/",{params:{return_type:this.form.return_type,invoice_id:this.form.invoice_id}}).then((function(e){t.purchase_invoice="",t.sale_invoice="",t.purchase_detail_list=[],t.sale_detail_list=[],0==t.form.return_type?(t.purchase_invoice=e.data,t.purchase_detail_list=e.data.stock_ins):(t.sale_invoice=e.data,t.sale_detail_list=e.data.sales)})).catch((function(t){console.log(t)})).finally((function(){e.hide()}))},returnProduct:function(t,e){var s=this;this.$snotify.confirm("Do you want to return this product?",{closeOnClick:!1,pauseOnHover:!0,buttons:[{text:"Yes",action:function(i){n.a.get("purchase-or-sale-return-product/",{params:{return_type:s.form.return_type,type:t,product_id:e}}).then((function(e){"invoice"==t&&(s.purchase_invoice="",s.sale_invoice=""),s.purchase_detail_list=[],s.sale_detail_list=[],s.$snotify.clear(),s.$snotify.success("Successfully Returned","Success"),s.getInvoiceWiseDetails()})).catch((function(t){s.$snotify.error("Something went worng","error")}))},bold:!0},{text:"No",action:function(t){s.$snotify.remove(t.id)},bold:!0}]})}}}),a=s(1),r=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-wrapper"},[s("div",{staticClass:"row justify-content-md-center"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h4",{staticClass:"card-title"},[t._v("Purchase/Sale Return")]),t._v(" "),s("hr"),t._v(" "),s("form",{staticClass:"forms-sample",on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"row p-2"},[s("div",{staticClass:"col-3"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Return Type")]),t._v(" "),s("div",{staticClass:"input-group col-xs-12"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.return_type,expression:"form.return_type"}],staticClass:"form-control form-control-sm",class:{"is-invalid":t.errors.return_type},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"return_type",e.target.multiple?s:s[0])},t.invoiceDropdowndata]}},[s("option",{attrs:{value:""}},[t._v("Select return type")]),t._v(" "),s("option",{key:0,domProps:{value:0}},[t._v("Purchase")]),t._v(" "),s("option",{key:1,domProps:{value:1}},[t._v("Sale")])])]),t._v(" "),t.errors.return_type?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.return_type[0]))]):t._e()])]),t._v(" "),s("div",{staticClass:"col-3"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Invoice No.")]),t._v(" "),s("div",{staticClass:"input-group col-xs-12"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.form.invoice_id,expression:"form.invoice_id"}],staticClass:"form-control form-control-sm",class:{"is-invalid":t.errors.invoice_no},on:{change:[function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"invoice_id",e.target.multiple?s:s[0])},t.getInvoiceWiseDetails]}},[s("option",{attrs:{value:""}},[t._v("Please select a Invoice")]),t._v(" "),t._l(t.invoices,(function(e,n){return s("option",{key:n,domProps:{value:e.id}},[t._v(t._s(e.purchase_invoice?e.purchase_invoice:e.invoice_number))])}))],2)]),t._v(" "),t.errors.invoice_no?s("small",{staticClass:"text-danger"},[t._v(t._s(t.errors.invoice_no[0]))]):t._e()])])])]),t._v(" "),s("hr"),t._v(" "),s("div",{staticClass:"row"},[t.purchase_detail_list.length?s("table",{staticClass:"list-table"},[t._m(0),t._v(" "),s("tbody",[t._l(t.purchase_detail_list,(function(e,n){return s("tr",{key:n},[s("td",[t._v("\n                        "+t._s(e.supplier.name)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-left"},[t._v("\n                        "+t._s(e.product.name)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-left"},[t._v("\n                        "+t._s(e.product.code)+"\n                      ")]),t._v(" "),s("td",[t._v("\n                        "+t._s(e.quantity)+"\n                      ")]),t._v(" "),s("td",[t._v("\n                        "+t._s(e.product.purchase_price)+"\n                      ")]),t._v(" "),s("td",[t._v("\n                        "+t._s(e.discount_percentage)+"\n                      ")]),t._v(" "),s("td",[t._v("\n                        "+t._s(e.tax_value)+"\n                      ")]),t._v(" "),s("td",[t._v("\n                        "+t._s(e.product_wise_total)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-xs btn-primary btn-rounded btn-fw",attrs:{type:"button"},on:{click:function(s){return t.returnProduct("single",e.id)}}},[t._v("Return")])])])})),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{attrs:{colspan:"7"}},[t._v("Total Product Cost")]),t._v(" "),s("td",[t._v(t._s(t.purchase_invoice.total_product_cost))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{attrs:{colspan:"7"}},[t._v("Shipping Cost")]),t._v(" "),s("td",[t._v(t._s(t.purchase_invoice.shipping_cost))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{attrs:{colspan:"7"}},[t._v("Others Cost")]),t._v(" "),s("td",[t._v(t._s(t.purchase_invoice.others_cost))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{staticClass:"grand",attrs:{colspan:"7"}},[t._v("Grand Total")]),t._v(" "),s("td",{staticClass:"grand"},[t._v(t._s(t.purchase_invoice.total_cost))])])],2)]):t._e(),t._v(" "),t.sale_detail_list.length?s("table",{staticClass:"list-table"},[t._m(1),t._v(" "),s("tbody",[t._l(t.sale_detail_list,(function(e,n){return s("tr",{key:n},[s("td",{staticClass:"text-left"},[t._v("\n                        "+t._s(e.product.name)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-left"},[t._v("\n                        "+t._s(e.product.code)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(e.quantity)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(e.sale_price)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(e.discount_percentage)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(e.tax_value)+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n                        "+t._s(Math.round(e.product_wise_total))+"\n                      ")]),t._v(" "),s("td",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-xs btn-primary btn-rounded btn-fw",attrs:{type:"button"},on:{click:function(s){return t.returnProduct("single",e.id)}}},[t._v("Return")])])])})),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{staticClass:"text-right",attrs:{colspan:"6"}},[t._v("Total Product Cost")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(t.sale_invoice.total_product_price))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{staticClass:"text-right",attrs:{colspan:"6"}},[t._v("Shipping Cost")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(t.sale_invoice.delivery_cost))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{staticClass:"text-right",attrs:{colspan:"6"}},[t._v("Others Cost")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v(t._s(t.sale_invoice.others_cost))])]),t._v(" "),s("tr",{staticClass:"font-weight-bold"},[s("td",{staticClass:"text-right grand",attrs:{colspan:"6"}},[t._v("Grand Total")]),t._v(" "),s("td",{staticClass:"text-right grand"},[t._v(t._s(t.sale_invoice.invoice_wise_total_price))])])],2)]):t._e()]),t._v(" "),s("div",{staticClass:"row p-2 col-sm-2 offset-sm-10"},[s("div",{staticClass:"form-group text-right"},[t.purchase_invoice?s("button",{staticClass:"btn btn-sm btn-primary mr-2 text-right",attrs:{type:"submit"},on:{click:function(e){return t.returnProduct("invoice",t.purchase_invoice.id)}}},[t._v("Return All")]):t._e(),t._v(" "),t.sale_invoice?s("button",{staticClass:"btn btn-sm btn-primary mr-2 text-right",attrs:{type:"submit"},on:{click:function(e){return t.returnProduct("invoice",t.sale_invoice.id)}}},[t._v("Return All")]):t._e()])])])])])]),t._v(" "),s("vue-snotify")],1)}),[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("td",{attrs:{colspan:"9"}},[t._v("Ordered Product Details")])]),t._v(" "),s("tr",[s("td",[t._v("Supplier Name")]),t._v(" "),s("td",[t._v("Product Name")]),t._v(" "),s("td",[t._v("Product Code")]),t._v(" "),s("td",[t._v("Quantity")]),t._v(" "),s("td",[t._v("Unit Price")]),t._v(" "),s("td",[t._v("Discount")]),t._v(" "),s("td",[t._v("Tax(5%)")]),t._v(" "),s("td",[t._v("Total")]),t._v(" "),s("td",[t._v("Actions")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("td",{attrs:{colspan:"8"}},[t._v("Ordered Product Details")])]),t._v(" "),s("tr",[s("td",[t._v("Product Name")]),t._v(" "),s("td",[t._v("Product Code")]),t._v(" "),s("td",[t._v("Quantity")]),t._v(" "),s("td",[t._v("Unit Price")]),t._v(" "),s("td",[t._v("Discount")]),t._v(" "),s("td",[t._v("Tax(5%)")]),t._v(" "),s("td",[t._v("Total")]),t._v(" "),s("td",[t._v("Actions")])])])}],!1,null,null,null);e.default=r.exports},3:function(t,e,s){var n=s(43);"string"==typeof n&&(n=[[t.i,n,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};s(6)(n,i);n.locals&&(t.exports=n.locals)},43:function(t,e,s){(t.exports=s(5)(!1)).push([t.i,".vld-shown {\n  overflow: hidden;\n}\n\n.vld-overlay {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  align-items: center;\n  display: none;\n  justify-content: center;\n  overflow: hidden;\n  z-index: 9999;\n}\n\n.vld-overlay.is-active {\n  display: flex;\n}\n\n.vld-overlay.is-full-page {\n  z-index: 9999;\n  position: fixed;\n}\n\n.vld-overlay .vld-background {\n  bottom: 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  background: #fff;\n  opacity: 0.5;\n}\n\n.vld-overlay .vld-icon, .vld-parent {\n  position: relative;\n}\n\n",""])}}]);